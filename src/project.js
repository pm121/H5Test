window.__require=function t(e,i,n){function c(o,r){if(!i[o]){if(!e[o]){var a=o.split("/");if(a=a[a.length-1],!e[a]){var h="function"==typeof __require&&__require;if(!r&&h)return h(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+o+"'")}}var u=i[o]={exports:{}};e[o][0].call(u.exports,function(t){return c(e[o][1][t]||t)},u,u.exports,t,e,i,n)}return i[o].exports}for(var s="function"==typeof __require&&__require,o=0;o<n.length;o++)c(n[o]);return c}({BackPackUI:[function(t,e,i){"use strict";cc._RF.push(e,"96a192UeP9FDZ6jqVOqcUAs","BackPackUI"),cc.Class({extends:cc.Component,properties:{slotPrefab:{default:null,type:cc.Prefab},scrollView:{default:null,type:cc.ScrollView},totalCount:0},init:function(t){this.heroSlots=[],this.home=t;for(var e=0;e<this.totalCount;++e){var i=this.addHeroSlot();this.heroSlots.push(i)}},addHeroSlot:function(){var t=cc.instantiate(this.slotPrefab);return this.scrollView.content.addChild(t),t},show:function(){this.node.active=!0,this.node.emit("fade-in"),this.home.toggleHomeBtns(!1)},hide:function(){this.node.emit("fade-out"),this.home.toggleHomeBtns(!0)}}),cc._RF.pop()},{}],ButtonScaler:[function(t,e,i){"use strict";cc._RF.push(e,"f5d10E3oQ9G/LlvNZly0S2Y","ButtonScaler"),cc.Class({extends:cc.Component,properties:{pressedScale:1,transDuration:0},onLoad:function(){var t=this;function e(e){this.stopAllActions(),this.runAction(t.scaleUpAction)}t.initScale=this.node.scale,t.button=t.getComponent(cc.Button),t.scaleDownAction=cc.scaleTo(t.transDuration,t.pressedScale),t.scaleUpAction=cc.scaleTo(t.transDuration,t.initScale),this.node.on("touchstart",function(e){this.stopAllActions(),this.runAction(t.scaleDownAction)},this.node),this.node.on("touchend",e,this.node),this.node.on("touchcancel",e,this.node)}}),cc._RF.pop()},{}],ChargeUI:[function(t,e,i){"use strict";cc._RF.push(e,"11f1epEd5FProshh8dSXgPW","ChargeUI"),cc.Class({extends:cc.Component,properties:{},init:function(t,e){this.home=t,this.parentBtns=e},show:function(){this.node.active=!0,this.node.emit("fade-in"),this.home.toggleHomeBtns(!1),cc.director.getScheduler().pauseTarget(this.parentBtns)},hide:function(){this.node.emit("fade-out"),this.home.toggleHomeBtns(!0),cc.director.getScheduler().resumeTarget(this.parentBtns)}}),cc._RF.pop()},{}],EnergyCounter:[function(t,e,i){"use strict";cc._RF.push(e,"70152iIQt1AkKnsFXGgadR8","EnergyCounter"),cc.Class({extends:cc.Component,properties:{timeToRecover:0,totalCount:0,currentCount:0,labelTimer:{default:null,type:cc.Label},labelCount:{default:null,type:cc.Label},progressBar:{default:null,type:cc.ProgressBar}},onLoad:function(){this.timer=0},update:function(t){var e=this.timer/this.timeToRecover;this.progressBar.progress=e,this.currentCount>this.totalCount&&(this.currentCount=this.totalCount);var i=Math.floor(this.timeToRecover-this.timer);this.labelCount.string=this.currentCount+"/"+this.totalCount,this.labelTimer.string=Math.floor(i/60).toString()+":"+(i%60<10?"0":"")+i%60,this.timer+=t,this.timer>=this.timeToRecover&&(this.timer=0,this.currentCount++)}}),cc._RF.pop()},{}],HeroSlot:[function(t,e,i){"use strict";cc._RF.push(e,"648ecAs4bREAJsQ6IycZbX7","HeroSlot");var n=function(t,e){var i=Math.random();return t+Math.floor((e-t)*i)};cc.Class({extends:cc.Component,properties:{sfAttributes:{default:[],type:cc.SpriteFrame},sfRanks:{default:[],type:cc.SpriteFrame},sfHeroes:{default:[],type:cc.SpriteFrame},sfBorders:{default:[],type:cc.SpriteFrame},labelLevel:{default:null,type:cc.Label},spHero:{default:null,type:cc.Sprite},spRank:{default:null,type:cc.Sprite},spAttribute:{default:null,type:cc.Sprite},spBorder:{default:null,type:cc.Sprite},spStars:{default:[],type:cc.Sprite}},onLoad:function(){this.refresh()},refresh:function(){var t=n(0,this.sfBorders.length),e=n(0,this.sfHeroes.length),i=n(0,this.spStars.length),c=n(0,this.sfRanks.length),s=n(0,this.sfAttributes.length),o=n(0,100);this.labelLevel.string="LV."+o,this.spRank.spriteFrame=this.sfRanks[c],this.refreshStars(i),this.spBorder.spriteFrame=this.sfBorders[t],this.spAttribute.spriteFrame=this.sfAttributes[s],this.spHero.spriteFrame=this.sfHeroes[e]},refreshStars:function(t){for(var e=0;e<this.spStars.length;++e)this.spStars[e].enabled=e<=t}}),cc._RF.pop()},{}],HomeUI:[function(t,e,i){"use strict";cc._RF.push(e,"80382PDGl1Jf4nvzaq1gyOV","HomeUI");var n=t("BackPackUI"),c=t("ShopUI"),s=cc.Enum({Home:-1,Shop:-1});cc.Class({extends:cc.Component,properties:{menuAnim:{default:null,type:cc.Animation},homeBtnGroups:{default:[],type:cc.Node},backPackUI:{default:null,type:n},shopUI:c},onLoad:function(){this.curPanel=s.Home,this.menuAnim.play("menu_reset")},start:function(){this.backPackUI.init(this),this.shopUI.init(this,s.Shop),this.scheduleOnce(function(){this.menuAnim.play("menu_intro")}.bind(this),.5)},toggleHomeBtns:function(t){for(var e=0;e<this.homeBtnGroups.length;++e){var i=this.homeBtnGroups[e];t?cc.director.getScheduler().resumeTarget(i):cc.director.getScheduler().pauseTarget(i)}},gotoShop:function(){this.curPanel!==s.Shop&&this.shopUI.show()},gotoHome:function(){this.curPanel===s.Shop&&(this.shopUI.hide(),this.curPanel=s.Home)}}),cc._RF.pop()},{BackPackUI:"BackPackUI",ShopUI:"ShopUI"}],ItemList:[function(t,e,i){"use strict";cc._RF.push(e,"17835Y2g5RH1YfRoE2gXjcq","ItemList");var n=cc.Class({name:"Item",properties:{id:0,itemName:"",itemPrice:0,iconSF:cc.SpriteFrame}});cc.Class({extends:cc.Component,properties:{items:{default:[],type:n},itemPrefab:cc.Prefab},onLoad:function(){for(var t=0;t<this.items.length;++t){var e=cc.instantiate(this.itemPrefab),i=this.items[t];this.node.addChild(e),e.getComponent("ItemTemplate").init({id:i.id,itemName:i.itemName,itemPrice:i.itemPrice,iconSF:i.iconSF})}}}),cc._RF.pop()},{}],ItemTemplate:[function(t,e,i){"use strict";cc._RF.push(e,"84c0a/TcQhJQ5lSYyY4gUa6","ItemTemplate"),cc.Class({extends:cc.Component,properties:{id:0,icon:cc.Sprite,itemName:cc.Label,itemPrice:cc.Label},init:function(t){this.id=t.id,this.icon.spriteFrame=t.iconSF,this.itemName.string=t.itemName,this.itemPrice.string=t.itemPrice}}),cc._RF.pop()},{}],MainMenu:[function(t,e,i){"use strict";cc._RF.push(e,"1bc0eZACFdK24h0UsytreOq","MainMenu");var n=t("MenuSidebar");cc.Class({extends:cc.Component,properties:{sidebar:n,roller:cc.Node,panelWidth:0,tabSwitchDuration:0},onLoad:function(){this.sidebar.init(this),this.curPanelIdx=0,this.roller.x=this.curPanelIdx*-this.panelWidth},switchPanel:function(t){this.curPanelIdx=t;var e=this.curPanelIdx*-this.panelWidth,i=cc.moveTo(this.tabSwitchDuration,cc.v2(e,0)).easing(cc.easeQuinticActionInOut()),n=cc.callFunc(this.onSwitchPanelFinished,this);this.roller.stopAllActions(),cc.director.getScheduler().pauseTarget(this.roller),this.roller.runAction(cc.sequence(i,n))},onSwitchPanelFinished:function(){cc.director.getScheduler().resumeTarget(this.roller)}}),cc._RF.pop()},{MenuSidebar:"MenuSidebar"}],MenuSidebar:[function(t,e,i){"use strict";cc._RF.push(e,"95628GDDSZIYpJENqXlvcpc","MenuSidebar"),cc.Class({extends:cc.Component,properties:{tabIcons:{default:[],type:cc.SpriteFrame},tabPrefab:cc.Prefab,container:cc.Node,highlight:cc.Node,tabWidth:0},init:function(t){this.mainMenu=t,this.tabSwitchDuration=t.tabSwitchDuration,this.curTabIdx=0,this.tabs=[];for(var e=0;e<this.tabIcons.length;++e){var i=this.tabIcons[e],n=cc.instantiate(this.tabPrefab).getComponent("TabCtrl");this.container.addChild(n.node),n.init({sidebar:this,idx:e,iconSF:i}),this.tabs[e]=n}this.tabs[this.curTabIdx].turnBig(),this.highlight.x=this.curTabIdx*this.tabWidth},tabPressed:function(t){for(var e=0;e<this.tabs.length;++e){var i=this.tabs[e];i.idx===t?(i.turnBig(),cc.director.getScheduler().pauseTarget(i.node)):this.curTabIdx===i.idx&&(i.turnSmall(),cc.director.getScheduler().resumeTarget(i.node))}this.curTabIdx=t;var n=cc.moveTo(this.tabSwitchDuration,cc.v2(this.curTabIdx*this.tabWidth)).easing(cc.easeQuinticActionInOut());this.highlight.stopAllActions(),this.highlight.runAction(n),this.mainMenu.switchPanel(this.curTabIdx)}}),cc._RF.pop()},{}],PanelTransition:[function(t,e,i){"use strict";cc._RF.push(e,"e5284RIOh1C4Jyzfa64lV9l","PanelTransition"),cc.Class({extends:cc.Component,properties:{duration:0},onLoad:function(){this.outOfWorld=cc.v2(3e3,0),this.node.position=this.outOfWorld;var t=cc.callFunc(this.onFadeOutFinish,this),e=cc.callFunc(this.onFadeInFinish,this);this.actionFadeIn=cc.sequence(cc.spawn(cc.fadeTo(this.duration,255),cc.scaleTo(this.duration,1)),e),this.actionFadeOut=cc.sequence(cc.spawn(cc.fadeTo(this.duration,0),cc.scaleTo(this.duration,2)),t),this.node.on("fade-in",this.startFadeIn,this),this.node.on("fade-out",this.startFadeOut,this)},startFadeIn:function(){cc.director.getScheduler().pauseTarget(this.node),this.node.position=cc.v2(0,0),this.node.setScale(2),this.node.opacity=0,this.node.runAction(this.actionFadeIn)},startFadeOut:function(){cc.director.getScheduler().pauseTarget(this.node),this.node.runAction(this.actionFadeOut)},onFadeInFinish:function(){cc.director.getScheduler().resumeTarget(this.node)},onFadeOutFinish:function(){this.node.position=this.outOfWorld}}),cc._RF.pop()},{}],ShopUI:[function(t,e,i){"use strict";cc._RF.push(e,"b06f068UltB3KPTKgJesZOm","ShopUI");var n=t("ChargeUI");cc.Class({extends:cc.Component,properties:{anim:cc.Animation,figure:cc.Sprite,btnsNode:cc.Node,chargeUI:n},init:function(t,e){this.home=t,this.node.active=!1,this.anim.play("shop_reset"),this.panelType=e,this.figure.node.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(1,1,.96),cc.scaleTo(1,1,1)))),this.chargeUI.init(t,this.btnsNode)},show:function(){this.node.active=!0,this.anim.play("shop_intro")},hide:function(){this.anim.play("shop_outro")},onFinishShow:function(){this.home.curPanel=this.panelType},onFinishHide:function(){this.node.active=!1}}),cc._RF.pop()},{ChargeUI:"ChargeUI"}],SubBtnsUI:[function(t,e,i){"use strict";cc._RF.push(e,"6907fq75H1EIrLmj/AFBg+B","SubBtnsUI"),cc.Class({extends:cc.Component,properties:{subBtnsAnim:cc.Animation,btnShowSub:cc.Button,btnHideSub:cc.Button,btnContainer:cc.Node},onLoad:function(){this.btnShowSub.node.active=!0,this.btnHideSub.node.active=!1},showSubBtns:function(){this.btnContainer.active=!0,this.subBtnsAnim.play("sub_pop")},hideSubBtns:function(){this.subBtnsAnim.play("sub_fold")},onFinishAnim:function(t){this.btnShowSub.node.active=t,this.btnHideSub.node.active=!t}}),cc._RF.pop()},{}],TabCtrl:[function(t,e,i){"use strict";cc._RF.push(e,"62208XJq9ZC2oNDeQGcbCab","TabCtrl"),cc.Class({extends:cc.Component,properties:{idx:0,icon:cc.Sprite,arrow:cc.Node,anim:cc.Animation},init:function(t){this.sidebar=t.sidebar,this.idx=t.idx,this.icon.spriteFrame=t.iconSF,this.node.on("touchstart",this.onPressed.bind(this),this.node),this.arrow.scale=cc.v2(0,0)},onPressed:function(){this.sidebar.tabPressed(this.idx)},turnBig:function(){this.anim.play("tab_turn_big")},turnSmall:function(){this.anim.play("tab_turn_small")}}),cc._RF.pop()},{}],"use_v2.1.x_cc.Action":[function(t,e,i){"use strict";cc._RF.push(e,"6cdcaBHWrpKKbDfmIiDwr2t","use_v2.1.x_cc.Action"),cc.macro.ROTATE_ACTION_CCW=!0,cc._RF.pop()},{}]},{},["ItemList","ItemTemplate","use_v2.1.x_cc.Action","BackPackUI","ButtonScaler","ChargeUI","EnergyCounter","HeroSlot","HomeUI","PanelTransition","ShopUI","SubBtnsUI","MainMenu","MenuSidebar","TabCtrl"]);